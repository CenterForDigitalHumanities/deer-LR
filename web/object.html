<!DOCTYPE html>
<!--
    author: Bryan Haberberger <bryan.j.haberberger@slu.edu>
    @author: cubap@slu.edu
    -->
<html>

<head>
    <title>Lived Religions Objects</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/chota@latest">
</head>

<body>
    <lr-nav></lr-nav>

    <div class="container">
        <h2 class="text-primary">Create a New Object</h2>
        <div class="card bd-primary">
            <div class="card_body">
                <form id="newPersonForm" class="hidden" deer-type="Thing" deer-context="http://schema.org">
                    <input type="hidden" deer-key="creator" value="loading">
                    <input type="hidden" deer-key="targetCollection" value="LivedReligionObjectsTest">
                    <label>Name:</label>
                    <input type="text" deer-key="name">
                    <label>Description:</label>
                    <textarea deer-key="description"></textarea>
                    <footer>
                        <input class="button primary" type="submit">
                    </footer>
                </form>
            </div>
        </div>

        <h3>Existing Objects</h3>
        <deer-view deer-collection="LivedReligionObjectsTest"></deer-view>
    </div>
    <lr-footer></lr-footer>

    <script>
        addEventListener('lrUserKnown', event => {
            let user = event.detail.user
            document.querySelector("[deer-key='creator']").value = user['@id']
        })
    </script>
    <script src="./js/deerInitializer.js" type="module"></script>
    <script src="./js/app.js" type="text/javascript"></script>
    <script src="./js/components.js" type="text/javascript"></script>

</body>

</html>