<!DOCTYPE html>
<!--
    author: Bryan Haberberger <bryan.j.haberberger@slu.edu>
    -->
<html>

<head>
    <title>New Entry</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://unpkg.com/chota@latest">
    <link rel="stylesheet" href="./css/mycss.css">
</head>

<body class="container">
    <!-- If an ID is provided with the page, then pre populate the page.  In general, a user submission is immutable -->
    <generic-top id="surveyTitle">{{  If you would like to alter a previous entry, see your "My Entries" page.  }}</generic-top>
    <generic-loader id="surveyLoader" class="hidden">Please wait while we create and link yor experience...</generic-loader>
    
    <!-- the person to attribute should be known by now.  They had to provide their attributor ID to get here -->
    <!-- A Location + Date/Time is required to continue -->

    <generic-place>
        <generic-loader class="hidden">Please wait while we create and link your experience...</generic-loader>
        <generic-top id="">Tell us about the place this data is concerened with.</generic-top>
        <div id="assignLocation" class="card">
           <div class="card-body">
               <header class="card-title">Please give us the ID  of the Location this relates to.</header>
               <label>Location/Event ID:</label><input id="" type="text" value=""/>
               <input class="btn btn-primary" type="button" value="This Is The Place!" onclick="LR.ui.assignLocation(event)" />
           </div>
        </div> 
        <div id="lookupLocation" class="card">
            <div class="card-body">
                <header class="card-title">If you don't know the ID, tell us the name associated with this Location and we will look for it. If we can't find anything, you will be asked to create a record for this Location.</header>
                <label>Location Title/Name:</label> <input id="" type="text"  />
                <input id="findRelated" class="btn btn-primary" onclick="LR.ui.lookupLocation(event)" type="button" value="Look Up Related Location/Event">
            </div>
        </div>
        <div id="createLocation" class="card hidden">
            <div class="card-body">
                <header class="card-title">Matching Location/Event</header>
                <ul id="related_list">
                    <li>We did not find any matching locations/events. <input onclick="LR.ui.assignLocation(event)" type="button" class="me" value="This is it!"/></li>
                </ul>
                <input type="button" class="btn btn-primary" value="Register New event" onclick="LR.ui.toggleLocationAddition()"/>
                <form id="newLocationForm" class="hidden" deer-type="Location" deer-context="http://schema.org">
                    <label>Location Title:</label>
                    <input type="text" deer-key-x="name" deer-source="">

                    <label>What are the GPS coordinates of this space (lat, long)?:</label>
                    <input type="hidden" deer-key-x="geo['@type']"/>
                    <label>Latitude:</label><input type="number" deer-key-x="geo['latitude']" />,
                    <label>Longitude:</label><input type="number" deer-key-x="geo['longitude']" /> 

                    <input type="hidden" deer-key-x="creator_app" value="LR_Agent">
                    <input type="hidden" deer-key-x="creator_user" value="User_Agent">
                    <input type="hidden" deer-key-x="testing" value="Lived_Religion">


                    <label>Location Notes/Description:</label>
                    <textarea type="text" deer-key-x="description" deer-source=""></textarea>

                    <generic-time>
                        <div id="assignTime" class="card">
                            <div class="card-body">
                                <header class="card-title">Please give us a date or date range this data is concerned with.  Leave "End Date" empty if this is not a date range.</header>
                                <label>Start Date:</label><input id="dateTimeStart" type="date" name="startDate"/>
                                <label>End Date:</label><input id="dateTimeEnd" type="date" name="endDate"/>
                            </div>
                        </div> 
                    </generic-time>
                   
                    <generic-time>
                        <div id="known_contributors" class="card">
                            <div class="card-body">
                                <header class="card-title">Please list anyone who is a contributor to this data</header>
                                <label>Contributor(s):</label><input id="contributors" type="text" name="contributors"/>
                                <label>End Date:</label><input id="dateTimeEnd" type="date" name="endDate"/>
                            </div>
                        </div> 
                    </generic-time>
                    <input deer-listening="newLocationForm" class="button primary" type="submit" value="Continue to Data Upload" onclick="LR.tricks.submitRequiredInfo(event)">
                </form>
                
                <deer-view id="interviewerDeer" deer-listening="newLocationForm" deer-template="Location" >
                    <!-- After deer saves this, how can I show pass/fail and/or their new ID -->
                    <!-- I think this can be a DEER view that deer listens to the form with a template that just shows the ID or name or something -->
                </deer-view>

            </div>
        </div>
    </generic-place>

    <generic-experience>
        <div> We should only see this once we have the information from above.  This is for demo purposes only.  </div>
        <generic-top>We want to hear from you <span id="theFirstName">{First Name}</span><span id="theLastName">{Last Name}</span></generic-top>
        <div class="card">
            <div class="card-body">
                <header class="card-title">Please check everything that applies to what you want to tell us.</header>
                <input type="checkbox" name="spaces" onchange="LR.ui.reactiveHierarchy(event)" /><span class="chk_lbl">Space</span> 
                <input type="checkbox" name="objects" onchange="LR.ui.reactiveHierarchy(event)" /><span class="chk_lbl">Objects</span>
                <input type="checkbox" name="bodies" onchange="LR.ui.reactiveHierarchy(event)" /><span class="chk_lbl">Bodies</span>
            </div>
        </div>
        <div class="card fixDynamicHeight">
            <!-- Major Types are Acoomodation, CivicStructure, TouristDestination -->
            
            <div for="spaces" class="kind hidden">
                <div class="primarySpecification" for="spaces">
                    <header>What is the primary type of space this is?</header>
                    <!--<label>General Specification</label>-->
                    <input type="radio" name="spaces"  value="Accommodation"/><span class="chk_lbl">Accommodation</span>
                    <input type="radio" name="spaces"  value="AdministrativeArea"/><span class="chk_lbl">Administrative Area</span>
                    <input type="radio" name="spaces"  value="Civic Structure" /><span class="chk_lbl">Civic Structure</span>
                    <input type="radio" name="spaces"  value="Landform" /><span class="chk_lbl">Landform</span>
                    <!-- same properties as Place and Intangible in schema, but this is like LR::Imagined because no schema exists -->
                    <input type="radio" name="spaces"  value="Imagined" /><span class="chk_lbl">Imagined</span>
                    <br>
                    <!--<label>More Specific</label>-->
                    <input type="radio" name="spaces"  value="Landmarks or Historical Buildings"  /><span class="chk_lbl">Landmarks or Historical Buildings</span>
                    <input type="radio" name="spaces"  value="Local Business" /><span class="chk_lbl">Local Business</span>
                    <input type="radio" name="spaces"  value="Residence" name="Accomodation" /><span class="chk_lbl">Residence</span>
                    <input type="radio" name="spaces"  value="School" /><span class="chk_lbl">School</span>
                    <input type="radio" name="spaces"  value="Tourist Destination" /><span class="chk_lbl">Tourist Destination</span>
                    <input type="radio" name="spaces"  value="Neighborhood" /><span class="chk_lbl">Neighborhood</span>
                    <input type="radio" name="spaces"  value="Home" /><span class="chk_lbl">Home</span>
                    <input type="radio" name="spaces"  value="Cemetery" /><span class="chk_lbl">Cemetery</span>
                    <input type="radio" name="spaces"  value="Hospital" /><span class="chk_lbl">Hospital</span>
                    <input type="radio" name="spaces"  value="Museum" /><span class="chk_lbl">Museum</span>
                    <input type="radio" name="spaces"  value="Park" /><span class="chk_lbl">Park</span>
                    <input type="radio" name="spaces"  value="Street" /><span class="chk_lbl">Street</span>
                    <input type="radio" name="spaces"  value="Zoo" /><span class="chk_lbl">Zoo</span>
                    <input type="radio" name="spaces"  value="Gym" /><span class="chk_lbl">Gym</span> 
                    <input type="radio" name="spaces"  value="Other Building" /><span class="chk_lbl">Other Building</span>
                    <div class="reactiveOther hidden" for="building">
                        <label>Please tell us what you mean by other:</label>
                        <textarea type="text"> </textarea>
                    </div>
                    <input type="button" onclick="LR.ui.assignPrimarySpecification(event, 'spaces')" value="Choose" />
                    <div for="spaces" class="chosenPrimarySpecification">None Chosen</div>
                </div>
                
                <div class="secondarySpecification hidden" for="spaces">
                    <header>Check all other types for this space.</header>
                    <label>General Specification</label>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Accommodation"/><span class="chk_lbl">Accommodation</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="AdministrativeArea"/><span class="chk_lbl">Administrative Area</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Civic Structure" /><span class="chk_lbl">Civic Structure</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Landform" /><span class="chk_lbl">Landform</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Other Building" /><span class="chk_lbl">Other Building</span>
                    <!-- same properties as Place and Intangible in schema, but this is like LR::Imagined because no schema exists -->
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Imagined" /><span class="chk_lbl">Imagined</span>
                    <br>
                    <label>More Specific</label>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Landmarks or Historical Buildings"  /><span class="chk_lbl">Landmarks or Historical Buildings</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Local Business" /><span class="chk_lbl">Local Business</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Residence" /><span class="chk_lbl">Residence</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="School" /><span class="chk_lbl">School</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Tourist Destination" /><span class="chk_lbl">Tourist Destination</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Neighborhood" /><span class="chk_lbl">Neighborhood</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Home" /><span class="chk_lbl">Home</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Cemetery" /><span class="chk_lbl">Cemetery</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Hospital" /><span class="chk_lbl">Hospital</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Museum" /><span class="chk_lbl">Museum</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Park" /><span class="chk_lbl">Park</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Street" /><span class="chk_lbl">Street</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Zoo" /><span class="chk_lbl">Zoo</span>
                    <input  type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'spaces')" value="Gym" /><span class="chk_lbl">Gym</span> 
                    <input deer-key-x="additionalType" type="checkbox" onchange="LR.ui.reactiveOther(event, 'spaces')" value="Other Building" /><span class="chk_lbl">Other Building</span>
                    <div class="reactiveOther hidden" for="spaces">
                        <label>Please tell us what you mean by other:</label>
                        <textarea type="text"> </textarea>
                    </div>
                </div>

                <form id="newSpaceForm" class="dataWrap" for="spaces" deer-type="">    <!-- this type must react to what primary type is chosen above -->
                    <input type="hidden" deer-key-x="additionalType" value="[]" /> <!-- this  must react to what secondary [types] are chosen above -->
                    <label>What is this space named?:</label>
                    <input type="text" deer-key-x="name" /> 
                    <header>History of this Space:</header>
                    <label>Former Location(s):</label>
                    <textarea type="text" deer-key-x="LR::FormerLocations"> </textarea>
                    <label>Former Use(s):</label>
                    <textarea type="text" deer-key-x="LR::FormerUses"> </textarea>
                    <label>Creator:</label>
                    <input type="text" deer-key-x="creator" />
                    <label>Material(s):</label>
                    <textarea type="text" deer-key-x="material"> </textarea>
                    <label>Further Description:</label>
                    <textarea type="text" deer-key-x="description"> </textarea>
                    <div class="dataWrap" for="all">
                        <label>Typical Use: </label>
                         <select deer-key-x="typical_use" value="">
                            <option value="Religious">Religious</option>
                            <option value="Commercial">Commercial</option>
                            <option value="Educational">Educational</option>
                            <option value="Civic">Civic</option>
                            <option value="Other Public">Other Public</option>
                        </select>
                    </div>
                    <div> Upload Media </div>
                    <label>Field Notes:</label>
                    <textarea type="text" deer-key-x="LR::FieldNotes"> </textarea>
                    <label>Tags separated by ',':</label>
                    <textarea type="text" deer-key-x="LR::Tags"> </textarea>
                </form>
            </div>
            
            <div for="objects" class="kind hidden">
                <!-- Major Type is Thing >> LR::PhysicalObject   -->
                <div class="primarySpecification" for="objects">
                    <header>What is the primary type for this object? </header>
                    <input type="radio" name="objects"  value="Sacred Object"><span class="chk_lbl">Sacred Object</span>
                    <input type="radio" name="objects"  value="Artwork"><span class="chk_lbl">Artwork</span>
                    <input type="radio" name="objects"  value="Clothing"><span class="chk_lbl">Clothing</span>
                    <input type="radio" name="objects"  value="Food"><span class="chk_lbl">Food</span>
                    <input type="radio" name="objects"  value="Building"><span class="chk_lbl">Building</span>
                    <input type="radio" name="objects"  value="Natural"><span class="chk_lbl">Natural</span>
                    <input type="radio" name="objects"  value="Manufactured"><span class="chk_lbl">Manufactured</span>
                    <input type="radio" name="objects"  value="Found"><span class="chk_lbl">Found</span>
                    <input type="radio" name="objects"  value="Written"><span class="chk_lbl">Written</span>
                    <input type="radio" name="objects"  value="Spoken" ><span class="chk_lbl">Spoken</span>
                    <input type="radio" name="objects"  value="Other"><span class="chk_lbl">Other</span>
                    <div class="reactiveOther hidden" for="objects">
                        <label>Please tell us what you mean by other:</label>
                        <textarea type="text"> </textarea>
                    </div>
                    <input type="button" onclick="LR.ui.assignPrimarySpecification(event, 'objects')" value="Choose" />
                    <div for="objects" class="chosenPrimarySpecification">None Chosen</div>
                </div>
                
                <div class="secondarySpecification hidden" for="objects">
                    <header>Check all other types that apply. </header>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Sacred Object"><span class="chk_lbl">Sacred Object</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Artwork"><span class="chk_lbl">Artwork</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Clothing"><span class="chk_lbl">Clothing</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Food"><span class="chk_lbl">Food</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Building"><span class="chk_lbl">Building</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Natural"><span class="chk_lbl">Natural</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Manufactured"><span class="chk_lbl">Manufactured</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Found"><span class="chk_lbl">Found</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Written"><span class="chk_lbl">Written</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Spoken" ><span class="chk_lbl">Spoken</span>
                    <input type="checkbox" onchange="LR.ui.reactiveSecondaryType(event, 'objects')" value="Other"><span class="chk_lbl">Other</span>
                </div>
                <!-- this type must react to what is chosen above [CreativeWork, Place  ] -->
                <form id="newObjectForm" class="dataWrap" for="objects" deer-type="Object"> <!-- this type must react to what primary type is chosen above -->
                    <input type="hidden" deer-key-x="additionalType" value="[]" /> <!-- this  must react to what secondary [types] are chosen above -->
                    
                    <header>History of Object:</header>
                    <label>Former Use(s):</label>
                    <textarea type="text" deer-key-x="TODO"> </textarea>
                    <label>Creator:</label>
                    <input type="text" deer-key-x="TODO" />
                    <label>Material(s):</label>
                    <textarea type="text" deer-key-x="material"> </textarea>
                    <div> Upload Media </div>
                    <label>Field Notes:</label>
                    <textarea type="text" deer-key-x="notes"> </textarea>
                    <label>Tags:</label>
                    <textarea type="text" deer-key-x="tags"> </textarea>
                </form>
            </div>
           
            <div for="bodies" class="kind hidden">
                <header>What senses are prominent?</header>
                <input type="radio" value="LR::Sight" name="sense"><span class="chk_lbl">Sight</span>
                <input type="radio" value="LR::Smell" name="sense"><span class="chk_lbl">Smell</span>
                <input type="radio" value="LR::Sound" name="sense"><span class="chk_lbl">Sound</span>
                <input type="radio" value="LR::Touch" name="sense"><span class="chk_lbl">Touch</span>
                <input type="radio" value="LR::Taste" name="sense"><span class="chk_lbl">Taste</span>
                <header>Describe Sense Further:</header>
                <textarea id="further_sense" type="text" deer-key-x="description" ></textarea>
                <input type="button" onclick="LR.ui.addPieceAndReset(event, 'sense')" value="Add Sense" />
                <ul id="added_sense">
                     <li><header> Added Senses </header></li>
                </ul>

                <header>What practices are occurring?  Check all that apply</header>
                <input name="practice" type="radio"  value="Eating"><span class="chk_lbl">Eating</span>
                <input name="practice" type="radio"  value="Playing"><span class="chk_lbl">Playing</span>
                <input name="practice" type="radio"  value="Clothing"><span class="chk_lbl">Clothing</span>
                <input name="practice" type="radio"  value="Singing"><span class="chk_lbl">Singing</span>
                <input name="practice" type="radio"  value="Moving"><span class="chk_lbl">Moving</span>
                <input name="practice" type="radio"  value="Sitting"><span class="chk_lbl">Sitting</span>
                <input name="practice" type="radio"  value="Standing"><span class="chk_lbl">Standing</span>
                <input name="practice" type="radio"  value="Kneeling"><span class="chk_lbl">Kneeling</span>
                <input name="practice" type="radio"  value="Traveling"><span class="chk_lbl">Traveling</span>
                <input name="practice" type="radio"  value="Dancing" ><span class="chk_lbl">Dancing</span>
                <input name="practice" type="radio"  value="Cooking" ><span class="chk_lbl">Cooking</span>
                <input name="practice" type="radio"  value="Working" ><span class="chk_lbl">Working</span>
                <input name="practice" type="radio"  value="Other"><span class="chk_lbl">Other</span>
                <div class="reactiveOther hidden" for="practice">
                    <label>Please tell us what you mean by other:</label>
                    <textarea type="text"> </textarea>
                </div>
                <header>Describe Practice Further:</header>
                <textarea id="further_practice" type="text" deer-key-x="description" ></textarea>
                <input type="button" onclick="LR.ui.addPieceAndReset(event, 'practice')" value="Add Practice" />
                <ul id="added_practice">
                     <li><header> Added Practices </header></li>
                </ul>
                <header>What is the context of these practices?  Check all that apply.</header>
                <input name="context" type="radio"  value="Religious Ritual"><span class="chk_lbl">Religious Ritual</span>
                <input name="context" type="radio"  value="Community Event"><span class="chk_lbl">Community Event</span>
                <input name="context" type="radio"  value="Civic Ritual"><span class="chk_lbl">Civic Ritual</span>
                <input name="context" type="radio"  value="Commercial"><span class="chk_lbl">Commercial</span>
                <input name="context" type="radio"  value="Public"><span class="chk_lbl">Public</span>
                <input name="context" type="radio"  value="Private"><span class="chk_lbl">Private</span>
                <input name="context" type="radio"  value="Planned"><span class="chk_lbl">Planned</span>
                <input name="context" type="radio"  value="Spontaneous"><span class="chk_lbl">Spontaneous</span>
                <input name="context" type="radio"  value="Individual"><span class="chk_lbl">Individual</span>
                <input name="context" type="radio"  value="Collective" ><span class="chk_lbl">Collective</span>
                <input name="context" type="radio"  value="Other"><span class="chk_lbl">Other</span>
                <div class="reactiveOther hidden" for="context">
                    <label>Please tell us what you mean by other:</label>
                    <textarea type="text"> </textarea>
                </div>
                <header>Describe Context Further:</header>
                <textarea id="further_context" type="text" deer-key-x="description" ></textarea>
                <input type="button" onclick="LR.ui.addPieceAndReset(event, 'context')" value="Add Context" />
                <ul id="added_context">
                     <li><header> Added Contexts </header></li>
                </ul>    
                <form id="newBodyForm" class="dataWrap" for="bodies" deer-type="Body">
                    <input type="hidden" deer-key-x="additionalType" value="[]" /> <!-- this  must react to what secondary [types] are chosen above -->
                    <div> Upload Media </div>
                    <label>Field Notes:</label>
                    <textarea type="text" deer-key-x="TODO"> </textarea>
                    <label>Tags:</label>
                    <textarea type="text" deer-key-x="TODO"> </textarea>
                </form>
            </div>
            
            <!-- https://www.designedbyaturtle.co.uk/submit-an-array-with-a-html-form/ -->
            <form id="theExperience" class="experience" my-type="Experience">
                <!-- This is a "User Submission" which needs to contain a reference to all objects created from this submission attributed to this user -->
                <!-- As things are saved we need to store them locally.  This may be a proprietary submit as I do not think I can do what I want to with DEER here -->
                <input type="hidden" name="user" value="" />
                <input type="hidden" name="location" value="" />
                <!-- there is no natural way for a value to be an array.  One must force the javascript to make it an array on form submission -->
                <input type="hidden" name="Space" value="{IDs of Spaces]" />
                <input type="hidden" name="Objects" value="[IDs of Objects]" />
                <input type="hidden" name="Bodies" value="[IDs of Bodies]" />
                <label>General Information:</label>
                <textarea type="text" deer-key-x="TODO"> </textarea>
                <input type="button" onclick="LR.crud.submitExperience(event)" value="Submit This Data" />
            </form>
        </div>
    </generic-experience>

    <!-- Add ins -->
    <script src="./js/deerInitializer.js" type="module"></script>   
    <script src="./js/app.js" type="text/javascript"></script>  

</body>

</html>